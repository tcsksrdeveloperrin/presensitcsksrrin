<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presensi Mobile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body class="bg-gray-100 min-h-screen">
    <div class="max-w-md mx-auto bg-white min-h-screen shadow-lg flex flex-col">
        <div class="p-6 bg-blue-600 text-white rounded-b-3xl shadow-lg flex justify-between items-start">
            <div>
                <h2 id="userName" class="text-xl font-bold">Memuat...</h2>
                <p id="branchName" class="text-sm opacity-80 italic">Mendeteksi cabang...</p>
            </div>
            <button onclick="logout()" class="text-xs bg-red-500 px-3 py-1 rounded-lg font-bold">Logout</button>
        </div>

        <div class="p-4 flex-1">
            <div class="relative rounded-3xl overflow-hidden bg-black aspect-[3/4] shadow-2xl border-4 border-white">
                <video id="video" autoplay playsinline class="w-full h-full object-cover"></video>

                <div
                    class="absolute bottom-4 left-4 bg-black/40 backdrop-blur-md text-white p-3 text-[10px] rounded-xl border border-white/20">
                    <p id="current-time">WIB: --:--</p>
                    <p id="coordsWatermark">GPS: Tracking...</p>
                </div>
            </div>

            <div class="mt-6 space-y-4">
                <select id="attendanceType"
                    class="w-full p-4 rounded-2xl border-2 border-gray-100 font-bold text-gray-700 focus:border-blue-500 outline-none">
                    <option value="Masuk">Masuk Kerja</option>
                    <option value="Pulang">Pulang Kerja</option>
                </select>

                <p id="locationStatus" class="text-center text-sm font-semibold text-orange-500 animate-pulse">
                    Mengecek GPS...
                </p>

                <button id="btnAbsen" disabled
                    class="w-full py-4 bg-gray-400 text-white rounded-2xl font-bold shadow-lg transition-all active:scale-95">
                    Ambil Foto & Kirim
                </button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>
